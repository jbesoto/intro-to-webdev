# FiberPTS Website

## Process

Initially, I spoke to the managers at the factory and asked them what type of information would be useful to include in the dashboard. Based on their requirements, I designed the website in Figma, adopting a clean and simple layout.

For the development of the website I used *Tabler*, a free and open-source web application UI kit based on Bootstrap 5. The reason for this was the aesthetic, yet simple formatting that their UI kit offered. Additionally, Tabler focuses on dashboard design, which is exactly what I needed for this project.

My familiarity with Bootstrap allowed me to easily navigate the Tabler documentation. During development, I constantly referenced the documentation, as I wanted to explore all of their features and learn how to use them to my advantage.

## Source Code

In this section, I thought it might be interesting to go over a function that I called across all pages in the web application. This is `dbcntl()`, which stands for "database control". 

```js
const dbcntl = (cmd) => {
  switch (cmd) {
    case "la":
      loadActions(document.getElementById("actions-table"), TAP_DATA_LIMIT);
      break;
    case "lo":
      loadOrders(document.getElementById("orders-table"));
      break;
    case "ld":
      loadDevices(document.getElementById("devices-table"));
      break;
    case "ll":
      loadActions(document.getElementById("actions-table"), PREVIEW_LIMIT);
      break;
    case "us":
      updateStats();
      break;
  }
};

export { dbcntl };
```

This function controls database interactions based on the provided command. As shown in the provided code, there are four commands available: `la` (load actions), `lo` (load orders), `ld` (load devices), `ll` (load latest), and `us` (update statistics). This made it easy to render components that required interacting with the cloud database. By exporting this function, I was able to call it within all HTML pages and execute any given database operation without re-writing or copy-pasting code.

## Issues

Having limited data delayed the development of this final project. First, given that the system was recently deployed in the factory that I am working with, very few data points were available for me to work with. For this reason, I had to wait until enough data was available before I inserted it to the website. 

Additionally, given that I have signed an NDA, I was not able to generate some of the graphs with real data as I would be exposing sensitive information (e.g. revenue) in the website. For this reason, I decided to use the graphs provided in the documentation. It is relevant to mention that the only graph that I was able to generate with real data was the pie chart (Resource Utilization).

## Learning

Througout this project, I familiarized myself with JavaScript. From how to fetch data from an API endpoint to dynamically modifying data in a website, I feel better prepared to tackle future web development projects.

## Next Steps

- Create Login Page
- Fully integrate with real data

# Requirements

For the website to properly fetch the data, you must install Supabase's module, as this is the database that I am using to store all factory data generated by the devices.

```
npm install @supabase/supabase-js
```

> **NOTE**
> Since plain JavaScript running in a browser does not have access to Node.js modules that allow me to fetch environment variables, such as `dotenv`, I had to hard-code the database's API key in `dbcntl.js`. For security reasons, browsers are also restricted from accessing local files directly, preventing the use of `dotenv` in a browser environment. Please do not share this project with anyone.
> 
> Once you have the API key that I shared in `api_key.txt`, replace `PASTE KEY HERE` with the actual key in `dbcntl.js`. This is at the top of the file (line 4). 